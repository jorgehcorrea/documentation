# SMI

Sistema de Monitoreo Inalambrico

---

## Overview

This section will record the experiments regardin the esp8266 module. This module, has the ability to connect to the wi-fi. As such, the esp8266 is a great alternative to use in this system.   
 
---
 
### The existing solution  

Currently there is no existing solution to the system. As the Fab system contains the end data transition in a screen in the hardware, and the output to the SD card. The objective of this next step is to tweet when the system finds an unexpected or potentially dangerous data reading.   

---

## Development

The development has been to follow the [ESP8266Arduinotutorial–WiFimodule], to better understand the system.  
![esp8266-ports](https://www.geekstips.com/wp-content/uploads/2016/12/ESP8266-Pinout-GeeksTips.jpg)  

This is the Pins the module uses. Important: VCC= 3.3v, 5v might burn the chip.  

		* AT – response OK  
		* AT+CWLAP – list nearby available WiFi networks  
		* AT+GMR – check the firmware version  
		* AT+CWJAP=”<access_point_name>”,”<password>” – join WiFi network using credentials  
		* AT+CIFSR – get current allocated IP address   

Datasheet: [esp8266ex_chipDatasheet]
AT Instructions: [esp8266_atinstructions]  
Module datasheet: [esp8266_01_moduleDatasheet]  

[esp8266ex_chipDatasheet]: https://www.espressif.com/sites/default/files/documentation/0a-esp8266ex_datasheet_en.pdf  
[esp8266_atinstructions]: https://www.espressif.com/sites/default/files/documentation/4a-esp8266_at_instruction_set_en.pdf  
[esp8266_01_moduleDatasheet]:[esp8266_01_moduleDatasheet]
After some time ill spent on the tutorial I have decide to go a different route, as I cannot replicate the communication between Arduino and  THE ESP8266.   

I used the tutorial [wifi_modulo_esp8266_conectarse], en español. It was a proponent of the idea that the Arduino Uno could be used, under the condition to remove the atmega 328p chip removed and adding a external power battery in order for the Arduino to have enough power through the 3.3v connection. It also requires the "ch pd" PIN to be in high. * follow on what that means form the datasheets * I am also not clear what that means when attempting to connect it to an Arduino with microcontroller, or maybe it is just the setup?

In this case, open Arduino IDE, connect the correct port and open under TOOS>serial monitor. Set the to: both NL & CR, and 115200(in this case).
Write: 
		
		 AT   
			* establish communication, response: ok  	
		 AT+CIOBAUD=9600  
			* it is preferable to work on 9600 baud, After command switch to 9600 baud  
		 AT+GMR  
			* asks the current version   
		 AT+CWMODE?  
			* What mode esp is working on.   
			* Mode 1= station, Mode 2= access point, Mode 3= station & access point  
		 AT+CWMODE=3  
			* Change to station and access point  
		 AT+CWLAP  
			* Look for current networks 
![local_networks](img/local_networks.PNG)  

		 AT+CWJAP="JHC","1122334455"  
			* With this we select the network to connect to and its password  
		 AT+CIPMUX=1
			* Testing if the connection is correct. 
		 AT+CIPSERVER=1,80
			* Setting up the channel and the port to talk to the device. 
		 AT+CIFSR
			* Aquire the communication ip.

[wifi_modulo_esp8266_conectarse]:https://www.youtube.com/watch?v=7gXcTBHLCRc
[ESP8266Arduinotutorial–WiFimodule]:https://www.geekstips.com/esp8266-arduino-tutorial-iot-code-example/
### Other intresting references for safe keeping   
 * Three tutorials for ESP8266 and ESP32 [arduinojson.org]  
 * [ESP8266 - Beginner Tutorial + Project] - An ultimate tutorial for beginners on how to connect and use an ESP8266 via Arduino and program it to blink an LED using the Blynk app.  
 * [esp88266_lastminengineers]- Mostly getting time date, simple weatherstation, display multiple values on web server, etc. 
 * [ESP8266_arduino_core]- Exceptional library on everything between arduino and esp8266, but its sort of advanced. 
 
 [arduinojson.org]:https://arduinojson.org/news/2018/09/24/three-tutorials/  
 [ESP8266 - Beginner Tutorial + Project]:https://create.arduino.cc/projecthub/Niv_the_anonymous/esp8266-beginner-tutorial-project-6414c8  
 [esp88266_lastminengineers]: https://lastminuteengineers.com/electronics/esp8266-projects/  
Safe-keeping the following address in order to always have access.   
https://jorgehcorrea.github.io/documentation  
[ESP8266_arduino_core]:https://arduino-esp8266.readthedocs.io/en/latest/installing.html  
